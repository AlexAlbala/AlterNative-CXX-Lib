language: c
 
#whitelist
branches:
  only:
    - master

git:
  submodules: false
  
install:
  - sudo add-apt-repository "deb http://us.archive.ubuntu.com/ubuntu/ trusty universe multiverse"
  - sudo apt-get update
  - sudo apt-get -f install cmake libboost-all-dev libboost-dev build-essential libboost-chrono-dev libboost-locale-dev
 
script:
  - mkdir tmp
  - cd tmp
  - git clone https://github.com/AlexAlbala/Alter-Native
  - cd Alter-Native/Tools
  - declare -x ALTERNATIVE_TOOLS_PATH=`pwd`
  - declare -x BOOST_LIBRARYDIR=/usr/lib/
  - cd ../../../
  - source ./alternative-lib-compile.sh
  - rm -rf tmp
  - cd build/libfiles
  - "[[ -f libSystem.a && -f libgc-lib.a ]]"

notifications:
 email: true
