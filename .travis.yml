language: c
 
#whitelist
branches:
  only:
    - master
    
git:
  submodules: false

before_install:
  - sudo apt-get update -qq
  - sudo apt-get install -qq libboost-chrono-dev libboost-locale-dev || /bin/true
  
install:
  - sudo apt-get install cmake libboost-all-dev build-essential
 
script:
  - mkdir tmp
  - cd tmp
  - git clone https://github.com/AlexAlbala/Alter-Native
  - cd Alter-Native/Tools
  - declare -x ALTERNATIVE_TOOLS_PATH=`pwd`
  - declare -x BOOST_LIBRARYDIR=/usr/lib/
  - cd ../../../
  - source ./alternative-lib-compile.sh
  - rm -rf tmp
  - cd build/libfiles
  - "[[ -f libSystem.a && -f libgc-lib.a ]]"

notifications:
 email: true
